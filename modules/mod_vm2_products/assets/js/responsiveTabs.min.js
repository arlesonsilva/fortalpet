// ResponsiveTabs.js | Version:1.7 | Author:Pete Love | www.petelove.com
var RESPONSIVEUI={};RESPONSIVEUI.responsiveTabs=function(){var e=jQuery(".responsive-tabs");if(!e.hasClass("responsive-tabs--enabled")){e.addClass("responsive-tabs--enabled");var t=1;e.each(function(){var e=jQuery(this);e.children("h1,h2,h3,h4,h5,h6").addClass("responsive-tabs__heading");e.children("div").addClass("responsive-tabs__panel");var n=e.find(".responsive-tabs__panel--active");if(!n.length){var n=e.find(".responsive-tabs__panel").first().addClass("responsive-tabs__panel--active")}e.find(".responsive-tabs__panel").not(".responsive-tabs__panel--active").hide().attr("aria-hidden","true");n.attr("aria-hidden","false");n.addClass("responsive-tabs__panel--closed-accordion-only");var r=jQuery("<div/>",{Class:"responsive-tabs-wrapper"});e.wrap(r);var i=0;e.find(".responsive-tabs__panel").each(function(){var e=jQuery(this).height();if(e>i){i=e}});var s=jQuery("<ul/>",{Class:"responsive-tabs__list",role:"tablist"});var o=1;e.find(".responsive-tabs__heading").each(function(){var n=jQuery(this);var u=jQuery(this).next();n.attr("tabindex",0);var a=jQuery("<li/>",{Class:"responsive-tabs__list__item",id:"tablist"+t+"-tab"+o,"aria-controls":"tablist"+t+"-panel"+o,role:"tab",tabindex:0,text:n.text(),keydown:function(e){if(e.keyCode==13){a.click()}},click:function(){r.css("height",i);e.find(".responsive-tabs__panel--closed-accordion-only").removeClass("responsive-tabs__panel--closed-accordion-only");e.find(".responsive-tabs__panel--active").toggle().removeClass("responsive-tabs__panel--active").attr("aria-hidden","true").prev().removeClass("responsive-tabs__heading--active");u.toggle().addClass("responsive-tabs__panel--active").attr("aria-hidden","false");n.addClass("responsive-tabs__heading--active");s.find(".responsive-tabs__list__item--active").removeClass("responsive-tabs__list__item--active");a.addClass("responsive-tabs__list__item--active");r.css("height","auto")}});u.attr({role:"tabpanel","aria-labelledby":a.attr("id"),id:"tablist"+t+"-panel"+o});if(u.hasClass("responsive-tabs__panel--active")){a.addClass("responsive-tabs__list__item--active")}s.append(a);n.keydown(function(e){if(e.keyCode==13){n.click()}});n.click(function(){e.find(".responsive-tabs__panel--closed-accordion-only").removeClass("responsive-tabs__panel--closed-accordion-only");if(!n.hasClass("responsive-tabs__heading--active")){if(jQuery(".responsive-tabs__heading--active").length){var t=jQuery(".responsive-tabs__heading--active").offset().top}e.find(".responsive-tabs__panel--active").slideToggle().removeClass("responsive-tabs__panel--active").prev().removeClass("responsive-tabs__heading--active");e.find(".responsive-tabs__panel").hide().attr("aria-hidden","true");u.slideToggle().addClass("responsive-tabs__panel--active").attr("aria-hidden","false");n.addClass("responsive-tabs__heading--active");var r=e.find(".responsive-tabs__list__item--active");r.removeClass("responsive-tabs__list__item--active");var i=u.attr("id");var s=i.replace("panel","tab");jQuery("#"+s).addClass("responsive-tabs__list__item--active");var o=jQuery(".responsive-tabs").offset().top;var a=jQuery(".responsive-tabs__heading--active").offset().top;if(t<a){jQuery("html, body").animate({scrollTop:o},0).animate({scrollTop:a},400)}}else{u.removeClass("responsive-tabs__panel--active").slideToggle(function(){jQuery(this).addClass("responsive-tabs__panel--closed-accordion-only")});n.removeClass("responsive-tabs__heading--active")}});o++});e.prepend(s);t++})}}